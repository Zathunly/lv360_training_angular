<div class="table-actions">
  <app-button
    *ngIf="!massEditMode"
    variant="primary"
    label="Add Product"
    (click)="goToAddProduct()"
  ></app-button>

  <app-button
    variant="secondary"
    [label]="massEditMode ? 'Cancel Edit' : 'Edit All'"
    (click)="toggleMassEdit()"
  ></app-button>
</div>

<app-base-table
  [columns]="columns"
  [data]="(products$ | async) || []"
  [massEditMode]="massEditMode"
  (saveAll)="saveAllChanges($event)"
  (delete)="openDeleteModal($event)"
></app-base-table>

<app-base-modal #deleteModal (closed)="onModalClosed()">
  <h3>Confirm Delete</h3>
  <p>Are you sure you want to delete this product?</p>
  <div class="modal-buttons">
    <app-button variant="secondary" label="Cancel" (click)="deleteModal.close()"></app-button>
    <app-button variant="danger" label="Confirm" (click)="confirmDelete()"></app-button>
  </div>
</app-base-modal>
